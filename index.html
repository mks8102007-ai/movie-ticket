<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie ticket booking</title>
    <style>
        *{
    box-sizing:border-box;
    font-family:"poppins",sans-serif;
}
body{
    background:none;
    color: rgb(22, 18, 70);
    display:flex;
    justify-content: center;
    align-items:center;
    height: 100vh;
    box-sizing: border-box;
}
.container{
    text-align: center;
    width: 420px;
    padding: 25px;
    border: 2px solid blueviolet;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
    background-color: #168a33;
}

h1{
    margin-bottom: 15px;
}

select{
    padding: 6px 10px;
    border-radius: 5px;
    border: #0a1819;
}
.showcase{
    display:flex;
    justify-content:space-between;
    margin-bottom:15px;
    padding: 0;
    color:#200346
}
.showcase li{
    display:flex;
    align-items: center;
    font-size: 14px;
}
.showcase.seat{
    width:18px;
    height: 18px;
    margin-right: 5px;
    border-radius: 4px;
    background-color: brown;
}
.seat.selected{
    background-color:blue;
}
.seat:hover:not(.booked):not(.selected) {
      transform: scale(1.2);
      background-color: #6feaf6;
    }
.seat.booked{
    background-color:red;
    pointer-events: none;
}
.theatre{
    perspective: 1000px;
}
.screen{
    background: none;
    color:white;
    height: 50px;
    margin: 15px;
    transform:rotateX(-45deg);
    box-shadow: 0 3px 10px;
    background: #840505;
    height: 50px;
    margin: 15px 0;
    transform: rotateX(-45deg);
    box-shadow: 0 3px 10px rgba(96, 24, 24, 0.7);
}

.seats-container {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: 8px;
  justify-content: center;
  margin-bottom: 20px;
}

.seat {
  background-color: #7b0404;
  height: 25px;
  width: 25px;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.2s;
}

.info {
  margin-bottom: 10px;
}

button {
  background-color: #6feaf6;
  color: #000;
  border: none;
  padding: 10px 15px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: 0.3s;
}

button:hover {
  background-color: #5ed4de;
}
#sel
{
    background-color: blue;
}
</style>

</head>
<body>
    <div class="outer-box">
    <div class="container">
        <h1>Movie ticket booking</h1>
        <div class="movie-container">
            <label>Select Movie: </label>
            <select id="movie">
                <option value="200">Amaran(Rs.200)</option>
                <option value="180">Leo(Rs.180)</option>
                <option value="160">Javan(Rs.160)</option>
                <option value="140">KGF(Rs.140)</option>
            </select>
        </div>
        <ul class="showcase">
            <li><div class="seat"></div><small>Available</small></li>
            <li><div class="seat selected" id="sel"></div><small>Selected</small></li>
            <li><div class="seat booked"></div><small>Booked</small></li>
        </ul>
        <div class="theatre">
            <div class="Screen">SCREEN</div>
            <div class="seats-container" id="seats">
            </div>
    </div>
    <p class="info">
        Seats selected:<span id="count">0</span>|
        Total price: Rs<span id="total">0</span>
    </p>
    <button id="confirm">Confirm booking</button>
    <button id="clear">clear selection</button>
</button>
    </div>
    </div>
    <script>
        const container = document.getElementById('seats');
        const count = document.getElementById('count');
        const total = document.getElementById('total');
        const movieSelect = document.getElementById('movie');
        const confirmBtn = document.getElementById('confirm');
        const clearBtn=document.getElementById('clear');

let ticketPrice = +movieSelect.value;

const rows = 5, cols = 8;
for (let i = 0; i < rows * cols; i++) {
  const seat = document.createElement('div');
  seat.classList.add('seat');
 if (Math.random()==0) seat.classList.add('booked');
  container.appendChild(seat);
}

function updateSelectedCount() {
  const selectedSeats = document.querySelectorAll('.seat.selected');
  const selectedCount = selectedSeats.length;
  count.textContent = selectedCount;
  total.textContent = selectedCount * ticketPrice;
}

container.addEventListener('click', (e) => {
  if (e.target.classList.contains('seat') && !e.target.classList.contains('booked')){
    e.target.classList.toggle('selected');
    updateSelectedCount();
  }
});

movieSelect.addEventListener('change', (e) => {
  ticketPrice = +e.target.value;
  updateSelectedCount();
});

confirmBtn.addEventListener('click', () => {
  const selectedSeats = document.querySelectorAll('.seat.selected');
  const selectedCount = selectedSeats.length;

  if (selectedCount === 0) {
    alert('Please select at least one seat!');
    return;
  }

  const totalPrice = selectedCount * ticketPrice;
  alert(`Booking Confirmed!\nSeats: ${selectedCount}\nTotal Price: â‚¹${totalPrice}`);


  selectedSeats.forEach(seat => {
    seat.classList.remove('selected');
    seat.classList.add('booked');
  });

  updateSelectedCount();
});
   clearBtn.addEventListener('click', () => {
      const selectedSeats = document.querySelectorAll('.seat.selected');
      selectedSeats.forEach(seat => seat.classList.remove('selected'));
      updateSelectedCount();
    });
    </script>
</body>
</html>